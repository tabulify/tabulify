====== Bytle Db - Load data from a file into a table ======


===== About ===== 
The Bytle Db ''table load'' [[..:action|action]] from the [[start|table module]] permits you to load a local [[csv:csv|CSV file]] into a [[table|relational table]].


<wrap info>
If you want to load data from a [[..:database:|database]] to another, see the [[transfer|transfer]] action.
</wrap>


===== Syntax =====
<unit>
<code dos>
db table load --help
</code>
<console>
Load a local file into a database.

Syntax:

	db table load [options|flags] <sourceFile> <targetTableDataUri>

where:

	Local
		* --store <value>            The path where the database information are stored

	Args:
		* sourceFile                 A local path to a CSV file
		* targetTableDataUri         A table data Uri (Example: @databaseName[/schema/table]). The database name is the only mandatory property. The default schema is the default schema of the database. The default table name is the name of the file.
</console>
</unit>
where:
  * ''target table data uri'' is a [[table#uri|table uri]]
  * ''sourceFile'' is a local path.
===== Example =====

<unit display="none">
<code dos>
db table drop --no-strict @sqlite/characters 
</code>
</unit>

<unit envBYTLE_DB_HOME=src>
  * The file
<file txt characters.csv>
Id,Last Name,First Name,Birth Date,Wikipedia Page
1,Schwarzenegger,Arnold,1947-07-30,https://en.wikipedia.org/wiki/Arnold_Schwarzenegger
2,Norman,Don,1935-12-25,https://en.wikipedia.org/wiki/Don_Norman

</file>
  * We can load the above data using the ''load'' command and the [[database:default#sqlite|sqlite built-in database]]
<code dos>
db table load %BYTLE_DB_HOME%\doc\files\characters.csv @sqlite 
</code>
<console>
Exception in thread "pool-1-thread-1" java.lang.NullPointerException
	at net.bytle.db.engine.Relations.addColumns(Relations.java:23)
	at net.bytle.db.stream.SqlInsertStream.init(SqlInsertStream.java:134)
	at net.bytle.db.stream.SqlInsertStream.<init>(SqlInsertStream.java:34)
	at net.bytle.db.stream.SqlInsertStream.get(SqlInsertStream.java:38)
	at net.bytle.db.loader.ResultSetLoaderConsumer.run(ResultSetLoaderConsumer.java:53)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
</console>
</unit>

<unit >
  * The process has then created a table with the same structure.
<code dos>
db table describe @sqlite/characters
</code>
<console>
No tables found
</console>
</unit>

<unit>
  * And the data was loaded
<code dos>
db table show @sqlite/characters
</code>
<console>
No tables found in the database (sqlite).
</console>
</unit>
