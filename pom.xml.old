<?xml version="1.0" encoding="UTF-8"?>

<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

    <!-- Pom Version -->
    <modelVersion>4.0.0</modelVersion>

    <!-- Coordinates -->
    <groupId>net.bytle</groupId>
    <artifactId>bytle-parent</artifactId>
    <version>1.1.0-SNAPSHOT</version>
    <modules>
        <module>cli</module>
        <module>log</module>
        <module>type</module>
        <module>crypto</module>
        <module>command</module>
        <module>doctest</module>
        <module>fs</module>
        <module>os</module>
        <module>regexp</module>
        <module>email</module>
        <module>xml</module>
        <module>sftp</module>
        <module>db</module>
        <module>db-jdbc</module>
        <module>db-cli</module>
        <module>db-move</module>
        <module>db-tpc</module>
        <module>db-sqlite</module>
        <module>db-gen</module>
        <module>db-website</module>
        <module>db-fs</module>
        <module>db-json</module>
        <module>db-oracle</module>
        <module>db-assembly</module>
        <module>db-excel</module>
        <module>db-sqlserver</module>
    </modules>
    <packaging>pom</packaging>

    <!-- Description -->
    <name>Root</name>
    <url>http://bytle.net</url>
    <description>The parent POM used in most of the Bytle Maven library</description>

    <properties>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <checkstyle.version>2.12.1</checkstyle.version>
        <checkstyle.header.file>${basedir}/LICENSE-notice.md</checkstyle.header.file>
        <jre.version.3digit>1.8.144</jre.version.3digit>
        <!-- jre version must be 3 digits (required by the exe wrapper launch4j -->
        <jre.version>1.8</jre.version>
        <!-- What means main ? it will add it as project.parent.basedir-->
        <main.basedir>${project.basedir}</main.basedir>
    </properties>

    <!-- Plugin Dependency Version Management -->
    <!-- The plugin version are set here, set them not on each submodule -->
    <build>
        <pluginManagement>
            <plugins>
                <plugin>
                    <groupId>org.codehaus.mojo</groupId>
                    <artifactId>exec-maven-plugin</artifactId>
                    <version>1.6.0</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-assembly-plugin</artifactId>
                    <version>3.1.0</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-source-plugin</artifactId>
                    <version>3.1.0</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-javadoc-plugin</artifactId>
                    <version>3.1.1</version>
                </plugin>
                <plugin>
                    <artifactId>maven-compiler-plugin</artifactId>
                    <version>3.5.1</version>
                    <configuration>
                        <source>${jre.version}</source>
                        <target>${jre.version}</target>
                    </configuration>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-resources-plugin</artifactId>
                    <version>3.0.2</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-deploy-plugin</artifactId>
                    <version>2.8.2</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-dependency-plugin</artifactId>
                    <version>3.1.0</version>
                </plugin>
                <plugin>
                    <groupId>org.apache.maven.plugins</groupId>
                    <artifactId>maven-surefire-plugin</artifactId>
                    <version>2.20</version>
                </plugin>
            </plugins>
        </pluginManagement>
        <!--        <extensions>-->
        <!--            &lt;!&ndash; Enabling the use of SSH for the deployment phase of Maven, not for this Sftp&ndash;&gt;-->
        <!--            <extension>-->
        <!--                <groupId>org.apache.maven.wagon</groupId>-->
        <!--                <artifactId>wagon-ssh</artifactId>-->
        <!--                <version>2.10</version>-->
        <!--            </extension>-->
        <!--        </extensions>-->
    </build>


    <!-- Global Dependency -->
    <dependencies>
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.12</version>
            <scope>test</scope>
        </dependency>
        <!-- System Rule for Junit SystemExit test -->
        <!-- See https://stackoverflow.com/questions/309396/java-how-to-test-methods-that-call-system-exit/8658497#8658497 -->
        <dependency>
            <groupId>com.github.stefanbirkner</groupId>
            <artifactId>system-rules</artifactId>
            <version>1.17.0</version>
            <scope>test</scope>
        </dependency>

    </dependencies>

    <!-- In Maven 3.5, the dependency version must come here
         then you can specify them in the child project without version
         Actually most of the dependency are wrapped in a module and are not
         scatter everywhere
    -->
    <dependencyManagement>
        <dependencies>
            <!-- Guava is used everywhere -->
            <dependency>
                <groupId>com.google.guava</groupId>
                <artifactId>guava</artifactId>
                <version>28.1-jre</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-type</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-db-gen</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-db-sqlite</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-db-fs</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-regexp</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-os</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-log</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-crypto</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-db</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-command</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-db-jdbc</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-fs</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-doctest</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-db-cli</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-db-move</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-cli</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-db-tpc</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
            <dependency>
                <groupId>net.bytle</groupId>
                <artifactId>bytle-xml</artifactId>
                <version>1.1.0-SNAPSHOT</version>
            </dependency>
        </dependencies>
    </dependencyManagement>


    <distributionManagement>
        <repository>
            <id>nexus</id>
            <name>Releases</name>
            <url>http://vps748761.ovh.net:8082/nexus/repository/maven-releases/</url>
        </repository>
        <snapshotRepository>
            <id>nexus</id>
            <name>Snapshot</name>
            <url>http://vps748761.ovh.net:8082/nexus/repository/maven-snapshots/</url>
        </snapshotRepository>
    </distributionManagement>

    <organization>
        <name>Bytle</name>
        <url>https://bytle.net</url>
    </organization>

    <profiles>
        <profile>
            <!-- Deploy -->
            <id>deploy</id>
            <build>
                <plugins>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-source-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>attach-sources</id>
                                <goals>
                                    <goal>jar-no-fork</goal>
                                </goals>
                            </execution>
                        </executions>
                    </plugin>
                    <plugin>
                        <groupId>org.apache.maven.plugins</groupId>
                        <artifactId>maven-javadoc-plugin</artifactId>
                        <executions>
                            <execution>
                                <id>attach-javadocs</id>
                                <goals>
                                    <goal>jar</goal>
                                </goals>
                            </execution>
                        </executions>
                    </plugin>
                </plugins>
            </build>
        </profile>


    </profiles>


</project>